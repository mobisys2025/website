<!-- layouts/shortcodes/navigation-buttons.html -->
{{- $address := .Get "address" -}}
{{- $latitude := .Get "latitude" -}}
{{- $longitude := .Get "longitude" -}}

<div class="navigation-buttons">
  <button onclick="openAppleMaps('{{ $address }}', '{{ $latitude }}', '{{ $longitude }}')"
    class="nav-button apple-maps-btn">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 6.827 6.827">
      <g>
        <path fill="#ffffff" d="M3.413.103a3.31 3.31 0 1 1 0 6.62 3.31 3.31 0 0 1 0-6.62z" />
        <path fill="#ffffff"
          d="M3.413 0c.943 0 1.796.382 2.414 1 .618.617 1 1.47 1 2.413 0 .943-.382 1.796-1 2.414-.618.618-1.471 1-2.414 1a3.403 3.403 0 0 1-2.413-1 3.403 3.403 0 0 1-1-2.414C0 2.471.382 1.617 1 1c.617-.618 1.47-1 2.413-1zm2.268 1.146a3.196 3.196 0 0 0-2.268-.94c-.885 0-1.687.36-2.267.94-.58.58-.94 1.382-.94 2.267 0 .886.36 1.687.94 2.268.58.58 1.382.939 2.267.939.886 0 1.687-.36 2.268-.94.58-.58.939-1.381.939-2.267 0-.885-.36-1.687-.94-2.267z" />
        <path d="M3.483 1.615 5.15 5.04l.101.21-.207-.107-1.63-.838-1.631.838-.208.106.102-.21 1.666-3.424.07-.144z" />
      </g>
    </svg>
    Navigate using Apple Maps
  </button>

  <button onclick="openGoogleMaps('{{ $address }}')" class="nav-button google-maps-btn">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 92.3 132.3">
      <path fill="#ffffff" d="M60.2 2.2C55.8.8 51 0 46.1 0 32 0 19.3 6.4 10.8 16.5l21.8 18.3L60.2 2.2z" />
      <path fill="#ffffff" d="M10.8 16.5C4.1 24.5 0 34.9 0 46.1c0 8.7 1.7 15.7 4.6 22l28-33.3-21.8-18.3z" />
      <path fill="#ffffff"
        d="M46.2 28.5c9.8 0 17.7 7.9 17.7 17.7 0 4.3-1.6 8.3-4.2 11.4 0 0 13.9-16.6 27.5-32.7-5.6-10.8-15.3-19-27-22.7L32.6 34.8c3.3-3.8 8.1-6.3 13.6-6.3" />
      <path fill="#ffffff"
        d="M46.2 63.8c-9.8 0-17.7-7.9-17.7-17.7 0-4.3 1.5-8.3 4.1-11.3l-28 33.3c4.8 10.6 12.8 19.2 21 29.9l34.1-40.5c-3.3 3.9-8.1 6.3-13.5 6.3" />
      <path fill="#ffffff"
        d="M59.1 109.2c15.4-24.1 33.3-35 33.3-63 0-7.7-1.9-14.9-5.2-21.3L25.6 98c2.6 3.4 5.3 7.3 7.9 11.3 9.4 14.5 6.8 23.1 12.8 23.1s3.4-8.7 12.8-23.2" />
    </svg>
    Navigate using Google Maps
  </button>
</div>

<script>
  function openAppleMaps(address, latitude, longitude) {
    const encodedAddress = encodeURIComponent(address);
    const isIOS = /iPad|iPhone|iPod/.test(navigator.userAgent);

    if (isIOS) {
      window.location.href = `maps://?q=${encodedAddress}&ll=${latitude},${longitude}`;
    } else {
      window.open(`https://maps.apple.com/?q=${encodedAddress}&ll=${latitude},${longitude}`, '_blank');
    }
  }

  function openGoogleMaps(address) {
    const encodedAddress = encodeURIComponent(address);
    window.open(`https://www.google.com/maps/search/?api=1&query=${encodedAddress}`, '_blank');
  }
</script>